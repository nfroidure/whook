// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`initCreateWhook should fail with access problems 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "ðŸï¸ - Starting Whook project's creation!",
    ],
  ],
  "oraCalls": Array [],
  "oraStartCalls": Array [],
  "oraStopAndPersistCalls": Array [],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/src/config",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=12.19.0\\"},\\"main\\":\\"dist/index\\",\\"module\\":\\"dist/index.mjs\\",\\"types\\":\\"dist/index.d.ts\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"rimraf -f 'dist' && npm run compile:cjs && npm run compile:mjs\\",\\"compile:cjs\\":\\"babel --env-name=cjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"compile:mjs\\":\\"babel --env-name=mjs --out-file-extension=.mjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/watch\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^9.0.0\\",\\"http-auth-utils\\":\\"^3.0.0\\",\\"jwt-service\\":\\"^7.1.0\\",\\"knifecycle\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^6.1.3\\",\\"type-fest\\":\\"^0.20.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.12.1\\",\\"@babel/core\\":\\"^7.12.3\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.12.1\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.12.1\\",\\"@babel/plugin-syntax-dynamic-import\\":\\"^7.8.3\\",\\"@babel/plugin-syntax-import-meta\\":\\"^7.10.4\\",\\"@babel/preset-env\\":\\"^7.12.1\\",\\"@babel/preset-typescript\\":\\"^7.12.1\\",\\"@babel/register\\":\\"^7.12.1\\",\\"@types/jest\\":\\"^26.0.15\\",\\"@typescript-eslint/eslint-plugin\\":\\"^4.8.1\\",\\"@typescript-eslint/parser\\":\\"^4.8.1\\",\\"axios\\":\\"^0.21.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^5.0.0\\",\\"chokidar\\":\\"^3.4.3\\",\\"eslint\\":\\"^7.13.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.4\\",\\"jest\\":\\"^26.6.3\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.1.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^2.0.0\\",\\"typescript\\":\\"^4.0.5\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"],\\"env\\":{\\"cjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10\\"},\\"modules\\":\\"commonjs\\"}]]},\\"mjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12\\"},\\"modules\\":false}]]}},\\"sourceMaps\\":true},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;

exports[`initCreateWhook should handle git initialization problems 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "ðŸï¸ - Starting Whook project's creation!",
    ],
    Array [
      "error",
      "âš ï¸ - Could not initialize the git project!",
    ],
    Array [
      "warning",
      "âœ”ï¸ - Project created!",
    ],
    Array [
      "warning",
      "âž• - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "âž• - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "âž• - And finally run \`npm run watch\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "âœ”ï¸",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=12.19.0\\"},\\"main\\":\\"dist/index\\",\\"module\\":\\"dist/index.mjs\\",\\"types\\":\\"dist/index.d.ts\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"rimraf -f 'dist' && npm run compile:cjs && npm run compile:mjs\\",\\"compile:cjs\\":\\"babel --env-name=cjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"compile:mjs\\":\\"babel --env-name=mjs --out-file-extension=.mjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/watch\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^9.0.0\\",\\"http-auth-utils\\":\\"^3.0.0\\",\\"jwt-service\\":\\"^7.1.0\\",\\"knifecycle\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^6.1.3\\",\\"type-fest\\":\\"^0.20.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.12.1\\",\\"@babel/core\\":\\"^7.12.3\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.12.1\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.12.1\\",\\"@babel/plugin-syntax-dynamic-import\\":\\"^7.8.3\\",\\"@babel/plugin-syntax-import-meta\\":\\"^7.10.4\\",\\"@babel/preset-env\\":\\"^7.12.1\\",\\"@babel/preset-typescript\\":\\"^7.12.1\\",\\"@babel/register\\":\\"^7.12.1\\",\\"@types/jest\\":\\"^26.0.15\\",\\"@typescript-eslint/eslint-plugin\\":\\"^4.8.1\\",\\"@typescript-eslint/parser\\":\\"^4.8.1\\",\\"axios\\":\\"^0.21.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^5.0.0\\",\\"chokidar\\":\\"^3.4.3\\",\\"eslint\\":\\"^7.13.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.4\\",\\"jest\\":\\"^26.6.3\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.1.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^2.0.0\\",\\"typescript\\":\\"^4.0.5\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"],\\"env\\":{\\"cjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10\\"},\\"modules\\":\\"commonjs\\"}]]},\\"mjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12\\"},\\"modules\\":false}]]}},\\"sourceMaps\\":true},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;

exports[`initCreateWhook should handle network issues 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "ðŸï¸ - Starting Whook project's creation!",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package.json",
      " => ",
      "/home/whoiam/projects/yolo/package.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package-lock.json",
      " => ",
      "/home/whoiam/projects/yolo/package-lock.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/LICENSE",
      " => ",
      "/home/whoiam/projects/yolo/LICENSE",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/dist/index.js",
      " => ",
      "/home/whoiam/projects/yolo/dist/index.js",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Moving ",
      "/var/lib/node/node_modules/whook-example/src/index.js",
      " => ",
      "/home/whoiam/projects/yolo/src/index.js",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/coverage/index.html",
      " => ",
      "/home/whoiam/projects/yolo/coverage/index.html",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/node_modules/whook/index.js",
      " => ",
      "/home/whoiam/projects/yolo/node_modules/whook/index.js",
      " (",
      "../../..",
      ")",
    ],
    Array [
      "error",
      "âš ï¸ - Could not initialize the git project!",
    ],
    Array [
      "error",
      "âš ï¸ - Could not retrieve the \`.gitignore\` file contents from: ",
      "https://www.gitignore.io/api/osx,node,linux",
    ],
    Array [
      "warning",
      "âœ”ï¸ - Project created!",
    ],
    Array [
      "warning",
      "âž• - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "âž• - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "âž• - And finally run \`npm run watch\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "âœ”ï¸",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=12.19.0\\"},\\"main\\":\\"dist/index\\",\\"module\\":\\"dist/index.mjs\\",\\"types\\":\\"dist/index.d.ts\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"rimraf -f 'dist' && npm run compile:cjs && npm run compile:mjs\\",\\"compile:cjs\\":\\"babel --env-name=cjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"compile:mjs\\":\\"babel --env-name=mjs --out-file-extension=.mjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/watch\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^9.0.0\\",\\"http-auth-utils\\":\\"^3.0.0\\",\\"jwt-service\\":\\"^7.1.0\\",\\"knifecycle\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^6.1.3\\",\\"type-fest\\":\\"^0.20.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.12.1\\",\\"@babel/core\\":\\"^7.12.3\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.12.1\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.12.1\\",\\"@babel/plugin-syntax-dynamic-import\\":\\"^7.8.3\\",\\"@babel/plugin-syntax-import-meta\\":\\"^7.10.4\\",\\"@babel/preset-env\\":\\"^7.12.1\\",\\"@babel/preset-typescript\\":\\"^7.12.1\\",\\"@babel/register\\":\\"^7.12.1\\",\\"@types/jest\\":\\"^26.0.15\\",\\"@typescript-eslint/eslint-plugin\\":\\"^4.8.1\\",\\"@typescript-eslint/parser\\":\\"^4.8.1\\",\\"axios\\":\\"^0.21.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^5.0.0\\",\\"chokidar\\":\\"^3.4.3\\",\\"eslint\\":\\"^7.13.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.4\\",\\"jest\\":\\"^26.6.3\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.1.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^2.0.0\\",\\"typescript\\":\\"^4.0.5\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"],\\"env\\":{\\"cjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10\\"},\\"modules\\":\\"commonjs\\"}]]},\\"mjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12\\"},\\"modules\\":false}]]}},\\"sourceMaps\\":true},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
  ],
}
`;

exports[`initCreateWhook should work 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "ðŸï¸ - Starting Whook project's creation!",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package.json",
      " => ",
      "/home/whoiam/projects/yolo/package.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package-lock.json",
      " => ",
      "/home/whoiam/projects/yolo/package-lock.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/LICENSE",
      " => ",
      "/home/whoiam/projects/yolo/LICENSE",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/dist/index.js",
      " => ",
      "/home/whoiam/projects/yolo/dist/index.js",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Moving ",
      "/var/lib/node/node_modules/whook-example/src/index.js",
      " => ",
      "/home/whoiam/projects/yolo/src/index.js",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/coverage/index.html",
      " => ",
      "/home/whoiam/projects/yolo/coverage/index.html",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/node_modules/whook/index.js",
      " => ",
      "/home/whoiam/projects/yolo/node_modules/whook/index.js",
      " (",
      "../../..",
      ")",
    ],
    Array [
      "warning",
      "âœ”ï¸ - Project created!",
    ],
    Array [
      "warning",
      "âž• - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "âž• - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "âž• - And finally run \`npm run watch\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "âœ”ï¸",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=12.19.0\\"},\\"main\\":\\"dist/index\\",\\"module\\":\\"dist/index.mjs\\",\\"types\\":\\"dist/index.d.ts\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"rimraf -f 'dist' && npm run compile:cjs && npm run compile:mjs\\",\\"compile:cjs\\":\\"babel --env-name=cjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"compile:mjs\\":\\"babel --env-name=mjs --out-file-extension=.mjs --out-dir=dist --extensions '.ts,.js' --source-maps=true src\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/watch\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^9.0.0\\",\\"http-auth-utils\\":\\"^3.0.0\\",\\"jwt-service\\":\\"^7.1.0\\",\\"knifecycle\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^6.1.3\\",\\"type-fest\\":\\"^0.20.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.12.1\\",\\"@babel/core\\":\\"^7.12.3\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.12.1\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.12.1\\",\\"@babel/plugin-syntax-dynamic-import\\":\\"^7.8.3\\",\\"@babel/plugin-syntax-import-meta\\":\\"^7.10.4\\",\\"@babel/preset-env\\":\\"^7.12.1\\",\\"@babel/preset-typescript\\":\\"^7.12.1\\",\\"@babel/register\\":\\"^7.12.1\\",\\"@types/jest\\":\\"^26.0.15\\",\\"@typescript-eslint/eslint-plugin\\":\\"^4.8.1\\",\\"@typescript-eslint/parser\\":\\"^4.8.1\\",\\"axios\\":\\"^0.21.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^5.0.0\\",\\"chokidar\\":\\"^3.4.3\\",\\"eslint\\":\\"^7.13.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.4\\",\\"jest\\":\\"^26.6.3\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.1.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^2.0.0\\",\\"typescript\\":\\"^4.0.5\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"],\\"env\\":{\\"cjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10\\"},\\"modules\\":\\"commonjs\\"}]]},\\"mjs\\":{\\"presets\\":[[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"12\\"},\\"modules\\":false}]]}},\\"sourceMaps\\":true},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;
