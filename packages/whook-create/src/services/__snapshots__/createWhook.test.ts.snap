// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`initCreateWhook should fail with access problems 1`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "errorCode": "E_ACCESS",
  "errorParams": Array [],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "üèÅÔ∏è - Starting Whook project's creation!",
    ],
  ],
  "oraCalls": Array [],
  "oraStartCalls": Array [],
  "oraStopAndPersistCalls": Array [],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "requireCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"version\\":\\"0.0.0\\",\\"description\\":\\"A new Whook project\\",\\"keywords\\":[\\"whook\\",\\"knifecycle\\",\\"REST\\",\\"HTTP\\",\\"OpenAPI\\",\\"web\\",\\"service\\",\\"handler\\",\\"wrapper\\",\\"example\\"],\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"scripts\\":{\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"babel --extensions '.ts,.js' src --out-dir=dist --source-maps=true\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"precz\\":\\"npm run compile\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"preversion\\":\\"npm run compile\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"license\\":\\"SEE LICENSE\\",\\"repository\\":{\\"type\\":\\"git\\",\\"url\\":\\"https://github.com/nfroidure/whook.git\\"},\\"bugs\\":{\\"url\\":\\"https://github.com/nfroidure/whook/issues\\"},\\"homepage\\":\\"https://github.com/nfroidure/whook\\",\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"^3.1.3\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^7.0.0\\",\\"ecstatic\\":\\"^4.1.2\\",\\"http-auth-utils\\":\\"^2.3.0\\",\\"knifecycle\\":\\"^9.0.0\\",\\"strict-qs\\":\\"^6.0.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.8.4\\",\\"@babel/core\\":\\"^7.8.7\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.8.3\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.8.3\\",\\"@babel/preset-env\\":\\"^7.8.7\\",\\"@babel/preset-typescript\\":\\"^7.8.3\\",\\"@babel/register\\":\\"^7.8.6\\",\\"@types/jest\\":\\"^24.9.0\\",\\"@typescript-eslint/eslint-plugin\\":\\"^2.24.0\\",\\"@typescript-eslint/parser\\":\\"^2.24.0\\",\\"axios\\":\\"^0.19.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^1.2.0\\",\\"eslint\\":\\"^6.8.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.2\\",\\"jest\\":\\"^25.1.0\\",\\"jsdoc-to-markdown\\":\\"^4.0.1\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"prettier\\":\\"^1.19.1\\",\\"rimraf\\":\\"^3.0.2\\",\\"typescript\\":\\"^3.8.3\\"},\\"contributors\\":[],\\"engines\\":{\\"node\\":\\">=10.19.0\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"eslintConfig\\":{\\"extends\\":\\"eslint:recommended\\",\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"],\\"overrides\\":[{\\"files\\":[\\"*.ts\\"],\\"rules\\":{\\"no-unused-vars\\":[1,{\\"args\\":\\"none\\"}]}}]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"]},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;

exports[`initCreateWhook should handle git initialization problems 1`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "üèÅÔ∏è - Starting Whook project's creation!",
    ],
    Array [
      "error",
      "‚ö†Ô∏è - Could not initialize the git project!",
    ],
    Array [
      "warning",
      "‚úîÔ∏è - Project created!",
    ],
    Array [
      "warning",
      "‚ûï - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "‚ûï - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "‚ûï - And finally run \`npm run dev\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "‚úîÔ∏è",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "requireCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"version\\":\\"0.0.0\\",\\"description\\":\\"A new Whook project\\",\\"keywords\\":[\\"whook\\",\\"knifecycle\\",\\"REST\\",\\"HTTP\\",\\"OpenAPI\\",\\"web\\",\\"service\\",\\"handler\\",\\"wrapper\\",\\"example\\"],\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"scripts\\":{\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"babel --extensions '.ts,.js' src --out-dir=dist --source-maps=true\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"precz\\":\\"npm run compile\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"preversion\\":\\"npm run compile\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"license\\":\\"SEE LICENSE\\",\\"repository\\":{\\"type\\":\\"git\\",\\"url\\":\\"https://github.com/nfroidure/whook.git\\"},\\"bugs\\":{\\"url\\":\\"https://github.com/nfroidure/whook/issues\\"},\\"homepage\\":\\"https://github.com/nfroidure/whook\\",\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"^3.1.3\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^7.0.0\\",\\"ecstatic\\":\\"^4.1.2\\",\\"http-auth-utils\\":\\"^2.3.0\\",\\"knifecycle\\":\\"^9.0.0\\",\\"strict-qs\\":\\"^6.0.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.8.4\\",\\"@babel/core\\":\\"^7.8.7\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.8.3\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.8.3\\",\\"@babel/preset-env\\":\\"^7.8.7\\",\\"@babel/preset-typescript\\":\\"^7.8.3\\",\\"@babel/register\\":\\"^7.8.6\\",\\"@types/jest\\":\\"^24.9.0\\",\\"@typescript-eslint/eslint-plugin\\":\\"^2.24.0\\",\\"@typescript-eslint/parser\\":\\"^2.24.0\\",\\"axios\\":\\"^0.19.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^1.2.0\\",\\"eslint\\":\\"^6.8.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.2\\",\\"jest\\":\\"^25.1.0\\",\\"jsdoc-to-markdown\\":\\"^4.0.1\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"prettier\\":\\"^1.19.1\\",\\"rimraf\\":\\"^3.0.2\\",\\"typescript\\":\\"^3.8.3\\"},\\"contributors\\":[],\\"engines\\":{\\"node\\":\\">=10.19.0\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"eslintConfig\\":{\\"extends\\":\\"eslint:recommended\\",\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"],\\"overrides\\":[{\\"files\\":[\\"*.ts\\"],\\"rules\\":{\\"no-unused-vars\\":[1,{\\"args\\":\\"none\\"}]}}]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"]},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;

exports[`initCreateWhook should handle network issues 1`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "üèÅÔ∏è - Starting Whook project's creation!",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package.json",
      " => ",
      "/home/whoiam/projects/yolo/package.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package-lock.json",
      " => ",
      "/home/whoiam/projects/yolo/package-lock.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/LICENSE",
      " => ",
      "/home/whoiam/projects/yolo/LICENSE",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/dist/index.js",
      " => ",
      "/home/whoiam/projects/yolo/dist/index.js",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Moving ",
      "/var/lib/node/node_modules/whook-example/src/index.js",
      " => ",
      "/home/whoiam/projects/yolo/src/index.js",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/coverage/index.html",
      " => ",
      "/home/whoiam/projects/yolo/coverage/index.html",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/node_modules/whook/index.js",
      " => ",
      "/home/whoiam/projects/yolo/node_modules/whook/index.js",
      " (",
      "../../..",
      ")",
    ],
    Array [
      "error",
      "‚ö†Ô∏è - Could not initialize the git project!",
    ],
    Array [
      "error",
      "‚ö†Ô∏è - Could not retrieve the \`.gitignore\` file contents from: ",
      "https://www.gitignore.io/api/osx,node,linux",
    ],
    Array [
      "warning",
      "‚úîÔ∏è - Project created!",
    ],
    Array [
      "warning",
      "‚ûï - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "‚ûï - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "‚ûï - And finally run \`npm run dev\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "‚úîÔ∏è",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "requireCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"version\\":\\"0.0.0\\",\\"description\\":\\"A new Whook project\\",\\"keywords\\":[\\"whook\\",\\"knifecycle\\",\\"REST\\",\\"HTTP\\",\\"OpenAPI\\",\\"web\\",\\"service\\",\\"handler\\",\\"wrapper\\",\\"example\\"],\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"scripts\\":{\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"babel --extensions '.ts,.js' src --out-dir=dist --source-maps=true\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"precz\\":\\"npm run compile\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"preversion\\":\\"npm run compile\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"license\\":\\"SEE LICENSE\\",\\"repository\\":{\\"type\\":\\"git\\",\\"url\\":\\"https://github.com/nfroidure/whook.git\\"},\\"bugs\\":{\\"url\\":\\"https://github.com/nfroidure/whook/issues\\"},\\"homepage\\":\\"https://github.com/nfroidure/whook\\",\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"^3.1.3\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^7.0.0\\",\\"ecstatic\\":\\"^4.1.2\\",\\"http-auth-utils\\":\\"^2.3.0\\",\\"knifecycle\\":\\"^9.0.0\\",\\"strict-qs\\":\\"^6.0.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.8.4\\",\\"@babel/core\\":\\"^7.8.7\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.8.3\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.8.3\\",\\"@babel/preset-env\\":\\"^7.8.7\\",\\"@babel/preset-typescript\\":\\"^7.8.3\\",\\"@babel/register\\":\\"^7.8.6\\",\\"@types/jest\\":\\"^24.9.0\\",\\"@typescript-eslint/eslint-plugin\\":\\"^2.24.0\\",\\"@typescript-eslint/parser\\":\\"^2.24.0\\",\\"axios\\":\\"^0.19.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^1.2.0\\",\\"eslint\\":\\"^6.8.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.2\\",\\"jest\\":\\"^25.1.0\\",\\"jsdoc-to-markdown\\":\\"^4.0.1\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"prettier\\":\\"^1.19.1\\",\\"rimraf\\":\\"^3.0.2\\",\\"typescript\\":\\"^3.8.3\\"},\\"contributors\\":[],\\"engines\\":{\\"node\\":\\">=10.19.0\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"eslintConfig\\":{\\"extends\\":\\"eslint:recommended\\",\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"],\\"overrides\\":[{\\"files\\":[\\"*.ts\\"],\\"rules\\":{\\"no-unused-vars\\":[1,{\\"args\\":\\"none\\"}]}}]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"]},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
  ],
}
`;

exports[`initCreateWhook should work 1`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "üèÅÔ∏è - Starting Whook project's creation!",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package.json",
      " => ",
      "/home/whoiam/projects/yolo/package.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/package-lock.json",
      " => ",
      "/home/whoiam/projects/yolo/package-lock.json",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/LICENSE",
      " => ",
      "/home/whoiam/projects/yolo/LICENSE",
      " (",
      "..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/dist/index.js",
      " => ",
      "/home/whoiam/projects/yolo/dist/index.js",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Moving ",
      "/var/lib/node/node_modules/whook-example/src/index.js",
      " => ",
      "/home/whoiam/projects/yolo/src/index.js",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/coverage/index.html",
      " => ",
      "/home/whoiam/projects/yolo/coverage/index.html",
      " (",
      "../..",
      ")",
    ],
    Array [
      "debug",
      "Discarding ",
      "/var/lib/node/node_modules/whook-example/node_modules/whook/index.js",
      " => ",
      "/home/whoiam/projects/yolo/node_modules/whook/index.js",
      " (",
      "../../..",
      ")",
    ],
    Array [
      "warning",
      "‚úîÔ∏è - Project created!",
    ],
    Array [
      "warning",
      "‚ûï - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "‚ûï - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "‚ûï - And finally run \`npm run dev\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "‚úîÔ∏è",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "requireCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"version\\":\\"0.0.0\\",\\"description\\":\\"A new Whook project\\",\\"keywords\\":[\\"whook\\",\\"knifecycle\\",\\"REST\\",\\"HTTP\\",\\"OpenAPI\\",\\"web\\",\\"service\\",\\"handler\\",\\"wrapper\\",\\"example\\"],\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"scripts\\":{\\"build\\":\\"npm run compile && NODE_ENV=\${NODE_ENV:-development} node bin/build\\",\\"compile\\":\\"babel --extensions '.ts,.js' src --out-dir=dist --source-maps=true\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} babel-node --extensions '.ts,.js' --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 babel-node --extensions '.ts,.js' bin/dev\\",\\"jest\\":\\"NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"precz\\":\\"npm run compile\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"preversion\\":\\"npm run compile\\",\\"start\\":\\"NODE_ENV=\${NODE_ENV:-development} node bin/start\\",\\"test\\":\\"npm run jest\\",\\"types\\":\\"rimraf -f 'dist/**/*.d.ts' && tsc --project . --declaration --emitDeclarationOnly --outDir dist\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} babel-node --extensions '.ts,.js' -- node_modules/@whook/cli/bin/whook.js\\"},\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"license\\":\\"SEE LICENSE\\",\\"repository\\":{\\"type\\":\\"git\\",\\"url\\":\\"https://github.com/nfroidure/whook.git\\"},\\"bugs\\":{\\"url\\":\\"https://github.com/nfroidure/whook/issues\\"},\\"homepage\\":\\"https://github.com/nfroidure/whook\\",\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-transaction\\":\\"^3.1.3\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^7.0.0\\",\\"ecstatic\\":\\"^4.1.2\\",\\"http-auth-utils\\":\\"^2.3.0\\",\\"knifecycle\\":\\"^9.0.0\\",\\"strict-qs\\":\\"^6.0.2\\",\\"yerror\\":\\"^5.0.0\\",\\"yhttperror\\":\\"^5.0.0\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.8.4\\",\\"@babel/core\\":\\"^7.8.7\\",\\"@babel/node\\":\\"^7.2.2\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.8.3\\",\\"@babel/plugin-proposal-object-rest-spread\\":\\"^7.8.3\\",\\"@babel/preset-env\\":\\"^7.8.7\\",\\"@babel/preset-typescript\\":\\"^7.8.3\\",\\"@babel/register\\":\\"^7.8.6\\",\\"@types/jest\\":\\"^24.9.0\\",\\"@typescript-eslint/eslint-plugin\\":\\"^2.24.0\\",\\"@typescript-eslint/parser\\":\\"^2.24.0\\",\\"axios\\":\\"^0.19.0\\",\\"babel-eslint\\":\\"^10.1.0\\",\\"babel-plugin-knifecycle\\":\\"^1.2.0\\",\\"eslint\\":\\"^6.8.0\\",\\"eslint-plugin-prettier\\":\\"^3.1.2\\",\\"jest\\":\\"^25.1.0\\",\\"jsdoc-to-markdown\\":\\"^4.0.1\\",\\"openapi-schema-validator\\":\\"^3.0.3\\",\\"prettier\\":\\"^1.19.1\\",\\"rimraf\\":\\"^3.0.2\\",\\"typescript\\":\\"^3.8.3\\"},\\"contributors\\":[],\\"engines\\":{\\"node\\":\\">=10.19.0\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"eslintConfig\\":{\\"extends\\":\\"eslint:recommended\\",\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"module\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"],\\"overrides\\":[{\\"files\\":[\\"*.ts\\"],\\"rules\\":{\\"no-unused-vars\\":[1,{\\"args\\":\\"none\\"}]}}]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"babel\\":{\\"presets\\":[\\"@babel/typescript\\",[\\"@babel/env\\",{\\"targets\\":{\\"node\\":\\"10.19.0\\"}}]],\\"plugins\\":[\\"@babel/proposal-class-properties\\",\\"@babel/plugin-proposal-object-rest-spread\\",\\"babel-plugin-knifecycle\\"]},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\"}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;
